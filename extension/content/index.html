<html>
<head>
	<title>PushMarks</title>
	<script type="text/javascript" src="jquery-1.3.1.min.js"></script> 
</head>

<body>

<script language="javascript" type="text/javascript">

var prefs = Components.classes["@mozilla.org/preferences-service;1"]
                    .getService(Components.interfaces.nsIPrefService);
prefs = prefs.getBranch("extensions.pushmarks.");

function save () {
  var prefValues = {
	  "deliciousEnabled"   : $('input[name=deliciousEnabled]')[0].checked,
	  "deliciousUsername"  : $('input[name=deliciousUsername]')[0].value,
	  "deliciousPassword"  : $('input[name=deliciousPassword]')[0].value,
	};
		
	prefs.setBoolPref('delicious.enabled', prefValues.deliciousEnabled);
	prefs.setCharPref('delicious.username', prefValues.deliciousUsername);
	prefs.setCharPref('delicious.password', prefValues.deliciousPassword);
	service = {}; 
	Components.utils.import('resource://pushmarks/modules/service.js', service);
	service.refreshFromPrefs();
}  

function initialize () {
	$('input[name=deliciousEnabled]')[0].checked = prefs.getBoolPref('delicious.enabled');
	$('input[name=deliciousUsername]')[0].value = prefs.getCharPref('delicious.username');
	$('input[name=deliciousPassword]')[0].value = prefs.getCharPref('delicious.password');
}

$(document).ready(initialize);

</script>

 <div class="in">
    Delicious
    <input type="checkbox" name="deliciousEnabled"> enabled <br>
    Username: <input type="text" name="deliciousUsername" /> <br>
    Password  <input type="text" name="deliciousPassword"/> <br>
    <a href="javascript:save()">save</a>
    </div>
</div>
</body>
</html>